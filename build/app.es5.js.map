{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app.es5.js","sourcesContent":["var com;\n(function (com) {\n    var linfaxn;\n    (function (linfaxn) {\n        var gankwebapp;\n        (function (gankwebapp) {\n            var R;\n            (function (R) {\n                R.id = {\n                    \"prll\": \"prll\",\n                    \"listView\": \"listView\",\n                    \"imageView\": \"imageView\",\n                    \"title\": \"title\",\n                    \"summary\": \"summary\"\n                };\n            })(R = gankwebapp.R || (gankwebapp.R = {}));\n        })(gankwebapp = linfaxn.gankwebapp || (linfaxn.gankwebapp = {}));\n    })(linfaxn = com.linfaxn || (com.linfaxn = {}));\n})(com || (com = {}));\nvar com;\n(function (com) {\n    var linfaxn;\n    (function (linfaxn) {\n        var gankwebapp;\n        (function (gankwebapp) {\n            var R;\n            (function (R) {\n                const _layout_data = {\n                    \"activity_main\": \"<androidui.widget.pullrefreshloadlayout android:layout_width=\\\"match_parent\\\" android:layout_height=\\\"match_parent\\\" id=\\\"prll\\\">\\n    <listview id=\\\"listView\\\">\\n    </listview>\\n</androidui.widget.pullrefreshloadlayout>\",\n                    \"main_list_item\": \"<linearlayout android:padding=\\\"8dp\\\" android:layout_width=\\\"match_parent\\\" android:layout_height=\\\"match_parent\\\">\\n    <imageview android:scaleType=\\\"centerCrop\\\" android:layout_height=\\\"35vw\\\" android:layout_width=\\\"35vw\\\" id=\\\"imageView\\\"></imageview>\\n    <linearlayout android:layout_marginLeft=\\\"12dp\\\" android:layout_height=\\\"match_parent\\\" android:gravity=\\\"center\\\" android:orientation=\\\"vertical\\\">\\n        <textview android:maxLines=\\\"3\\\" android:ellipsize=\\\"end\\\" android:textSize=\\\"18sp\\\" id=\\\"title\\\"></textview>\\n        <textview android:layout_marginTop=\\\"4dp\\\" android:textSize=\\\"12sp\\\" id=\\\"summary\\\"></textview>\\n    </linearlayout>\\n</linearlayout>\"\n                };\n                const _tempDiv = document.createElement('div');\n                class layout {\n                    static getLayoutData(layoutRef) {\n                        if (!layoutRef)\n                            return null;\n                        layoutRef = layoutRef.replace('/', '.').split('.').pop();\n                        if (!_layout_data[layoutRef])\n                            return null;\n                        _tempDiv.innerHTML = _layout_data[layoutRef];\n                        let data = _tempDiv.firstElementChild;\n                        _tempDiv.removeChild(data);\n                        return data;\n                    }\n                }\n                layout.activity_main = '@layout/activity_main';\n                layout.main_list_item = '@layout/main_list_item';\n                R.layout = layout;\n                android.content.res.Resources.buildLayoutFinder = (refString) => {\n                    return layout.getLayoutData(refString);\n                };\n            })(R = gankwebapp.R || (gankwebapp.R = {}));\n        })(gankwebapp = linfaxn.gankwebapp || (linfaxn.gankwebapp = {}));\n    })(linfaxn = com.linfaxn || (com.linfaxn = {}));\n})(com || (com = {}));\nvar com;\n(function (com) {\n    var linfaxn;\n    (function (linfaxn) {\n        var gankwebapp;\n        (function (gankwebapp) {\n            var ActionBarActivity = android.app.ActionBarActivity;\n            var View = android.view.View;\n            var BaseAdapter = android.widget.BaseAdapter;\n            var PullRefreshLoadLayout = androidui.widget.PullRefreshLoadLayout;\n            var R = com.linfaxn.gankwebapp.R;\n            var Toast = android.widget.Toast;\n            class MainActivity extends ActionBarActivity {\n                constructor(...args) {\n                    super(...args);\n                    this.nextLoadingPage = 1;\n                }\n                onCreate() {\n                    super.onCreate();\n                    this.setTitle('干货集中营');\n                    this.setContentView(R.layout.activity_main);\n                    let listView = this.findViewById('listView');\n                    this.adapter = new MyListAdapter();\n                    listView.setAdapter(this.adapter);\n                    this.initAllDayTitle().then(() => {\n                        this.initPRLL();\n                    }, () => {\n                        Toast.makeText(this, '标题数据获取失败', Toast.LENGTH_SHORT).show();\n                        this.initPRLL();\n                    });\n                }\n                initAllDayTitle() {\n                    return new Promise((resolve, reject) => {\n                        resolve();\n                    });\n                }\n                initPRLL() {\n                    this.prll = this.findViewById('prll');\n                    let activity = this;\n                    this.prll.setRefreshLoadListener({\n                        onRefresh(prll) {\n                            activity.nextLoadingPage = 1;\n                            activity.loadNextPage().then((items) => {\n                                activity.adapter.data = items;\n                                activity.adapter.notifyDataSetChanged();\n                                activity.prll.setHeaderState(PullRefreshLoadLayout.State_Header_Normal);\n                            }, () => {\n                                activity.prll.setHeaderState(PullRefreshLoadLayout.State_Header_RefreshFail);\n                            });\n                        },\n                        onLoadMore(prll) {\n                            activity.loadNextPage().then((items) => {\n                                activity.adapter.data.push(...items);\n                                activity.adapter.notifyDataSetChanged();\n                                if (items.length == MainActivity.ListLoadCount) {\n                                    activity.prll.setFooterState(PullRefreshLoadLayout.State_Footer_Normal);\n                                }\n                                else {\n                                    activity.prll.setFooterState(PullRefreshLoadLayout.State_Footer_NoMoreToLoad);\n                                }\n                            }, () => {\n                                activity.prll.setFooterState(PullRefreshLoadLayout.State_Footer_LoadFail);\n                            });\n                        }\n                    });\n                    activity.prll.setFooterState(PullRefreshLoadLayout.State_Footer_Normal);\n                    activity.prll.setFooterState(PullRefreshLoadLayout.State_Footer_Loading);\n                }\n                loadNextPage() {\n                    let activity = this;\n                    return new Promise((resolve, reject) => {\n                        fetch(`http://gank.avosapps.com/api/data/福利/${MainActivity.ListLoadCount}/${this.nextLoadingPage}`)\n                            .then((response) => {\n                            return response.json();\n                        }).then((json) => {\n                            resolve(json.results);\n                            this.nextLoadingPage++;\n                        }).catch((ex) => {\n                            console.error(ex);\n                            Toast.makeText(activity, '载入失败', Toast.LENGTH_SHORT).show();\n                            reject();\n                        });\n                    });\n                }\n            }\n            MainActivity.ListLoadCount = 20;\n            MainActivity.AllDataTitle = new Map();\n            gankwebapp.MainActivity = MainActivity;\n            class MyListAdapter extends BaseAdapter {\n                constructor(...args) {\n                    super(...args);\n                    this.data = [];\n                }\n                getView(position, convertView, parent) {\n                    if (convertView == null) {\n                        convertView = View.inflate(parent.getContext(), R.layout.main_list_item, null);\n                    }\n                    let item = this.getItem(position);\n                    convertView.findViewById(R.id.imageView).setImageURI(item.url);\n                    let day = item.publishedAt.split('T')[0];\n                    convertView.findViewById(R.id.title).setText(MainActivity.AllDataTitle.get(day) || '暂无标题');\n                    convertView.findViewById(R.id.summary).setText(day);\n                    return convertView;\n                }\n                getCount() {\n                    return this.data.length;\n                }\n                getItem(position) {\n                    return this.data[position];\n                }\n                getItemId(position) {\n                    return -1;\n                }\n            }\n        })(gankwebapp = linfaxn.gankwebapp || (linfaxn.gankwebapp = {}));\n    })(linfaxn = com.linfaxn || (com.linfaxn = {}));\n})(com || (com = {}));\n//# sourceMappingURL=app.js.map"]}